{"version":3,"sources":["webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./src/components/Questions.vue?4cde","webpack:///src/components/Questions.vue","webpack:///./src/components/Questions.vue?cd61","webpack:///./src/components/Questions.vue","webpack:///./src/components/Questions.vue?b39a","webpack:///./src/views/Polls/Create.vue?cae3","webpack:///src/views/Polls/Create.vue","webpack:///./src/views/Polls/Create.vue?c0c5","webpack:///./src/views/Polls/Create.vue","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/uuid/lib/rng-browser.js"],"names":["byteToHex","i","toString","substr","bytesToUuid","buf","offset","bth","join","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","poll","question","key","id","class","skipped","_v","_s","order","questions","length","on","$event","deleteQuestion","_e","directives","name","rawName","value","expression","domProps","target","composing","$set","answer","answers","deleteAnswer","addAnswer","disabled","changeOrder","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","addQuestion","_m","staticRenderFns","component","sortedPoll","busy","createPoll","rng","v4","options","rnds","random","ii","getRandomValues","crypto","bind","window","msCrypto","rnds8","Uint8Array","r","Math"],"mappings":"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","file":"js/create.84bee5b2.js","sourcesContent":["/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"questions\"},[_c('transition-group',{attrs:{\"tag\":\"ul\",\"name\":\"questions\"}},_vm._l((_vm.poll.questions),function(question){return _c('li',{key:question.id,staticClass:\"field\",class:{ skipped: question.skipped }},[_c('div',{staticClass:\"order\"},[_vm._v(_vm._s(question.order))]),_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Radio buttons\")]),(_vm.poll.questions.length > 1)?_c('i',{staticClass:\"fa fa-trash fa-lg delete\",on:{\"click\":function($event){return _vm.deleteQuestion(question.id)}}}):_vm._e()]),_c('div',{staticClass:\"body\"},[_c('p',{staticClass:\"question\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(question.question),expression:\"question.question\"}],attrs:{\"type\":\"text\",\"placeholder\":\"type your question\",\"required\":\"required\",\"minlength\":\"3\",\"maxlength\":\"255\"},domProps:{\"value\":(question.question)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(question, \"question\", $event.target.value)}}})]),_c('transition-group',{attrs:{\"tag\":\"ul\",\"name\":\"answers\"}},_vm._l((question.answers),function(answer){return _c('li',{key:answer.id,staticClass:\"answer\"},[_c('span',[_vm._v(\"Answer\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.answer),expression:\"answer.answer\"}],attrs:{\"type\":\"text\",\"required\":\"required\",\"minlength\":\"3\",\"maxlength\":\"255\",\"placeholder\":\"type your answer\"},domProps:{\"value\":(answer.answer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(answer, \"answer\", $event.target.value)}}}),(question.answers.length > 2)?_c('i',{staticClass:\"fa fa-trash fa-lg delete\",on:{\"click\":function($event){return _vm.deleteAnswer(question.id, answer.id)}}}):_vm._e()])}),0),_c('ul',{staticClass:\"end\"},[_c('li',{staticClass:\"answer\"},[_c('button',{on:{\"click\":function($event){return _vm.addAnswer(question.id)}}},[_vm._v(\"Add more answer\")])])])],1),_c('div',{staticClass:\"footer\"},[_c('div',[_vm._v(\" Order: \"),_c('i',{staticClass:\"fa fa-chevron-up\",class:{ disabled: question.order === 1 },attrs:{\"disabled\":question.order === 1},on:{\"click\":function($event){return _vm.changeOrder('up', question)}}}),_vm._v(\" \"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(question.order))]),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-chevron-down\",class:{ disabled: question.order === _vm.poll.questions.length },attrs:{\"disabled\":question.order === _vm.poll.questions.length},on:{\"click\":function($event){return _vm.changeOrder('down', question)}}})]),_c('div',[_c('label',[_vm._v(\"Skip: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(question.skipped),expression:\"question.skipped\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(question.skipped)?_vm._i(question.skipped,null)>-1:(question.skipped)},on:{\"change\":function($event){var $$a=question.skipped,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(question, \"skipped\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(question, \"skipped\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(question, \"skipped\", $$c)}}}})])])])])}),0),_c('ul',[_c('li',{staticClass:\"more\",on:{\"click\":_vm.addQuestion}},[_c('i',{staticClass:\"fa fa-plus\"}),_vm._v(\" Add more radio buttons \")]),_c('li',{staticClass:\"field\"},[_c('div',{staticClass:\"order\"},[_vm._v(_vm._s(_vm.poll.questions.length + 1))]),_vm._m(0),_c('div',{staticClass:\"body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.poll.message),expression:\"poll.message\"}],attrs:{\"required\":\"required\",\"minlength\":\"3\",\"maxlength\":\"255\"},domProps:{\"value\":(_vm.poll.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.poll, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"footer\"},[_vm._v(\" Order: \"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.poll.questions.length + 1))])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Message\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"questions\">\n        <transition-group tag=\"ul\" name=\"questions\">\n            <li class=\"field\" v-for=\"question in poll.questions\" v-bind:key=\"question.id\" :class=\"{ skipped: question.skipped }\">\n                <div class=\"order\">{{ question.order }}</div>\n                <div class=\"header\">\n                    <span class=\"title\">Radio buttons</span>\n                    <i class=\"fa fa-trash fa-lg delete\" v-if=\"poll.questions.length > 1\" v-on:click=\"deleteQuestion(question.id)\"></i>\n                </div>\n                <div class=\"body\">\n                    <p class=\"question\">\n                        <input type=\"text\" placeholder=\"type your question\" v-model=\"question.question\" required=\"required\" minlength=\"3\" maxlength=\"255\">\n                    </p>\n                    <transition-group tag=\"ul\" name=\"answers\">\n                        <li class=\"answer\" v-for=\"answer in question.answers\" v-bind:key=\"answer.id\">\n                            <span>Answer</span>\n                            <input type=\"text\" required=\"required\" minlength=\"3\" maxlength=\"255\" placeholder=\"type your answer\" v-model=\"answer.answer\">\n                            <i class=\"fa fa-trash fa-lg delete\" v-if=\"question.answers.length > 2\" v-on:click=\"deleteAnswer(question.id, answer.id)\"></i>\n                        </li>\n                    </transition-group>\n                    <ul class=\"end\">\n                        <li class=\"answer\">\n                            <button v-on:click=\"addAnswer(question.id)\">Add more answer</button>\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"footer\">\n                    <div>\n                        Order: <i class=\"fa fa-chevron-up\" v-on:click=\"changeOrder('up', question)\" :class=\"{ disabled: question.order === 1 }\" :disabled=\"question.order === 1\"></i> <span class=\"number\">{{ question.order }}</span> <i class=\"fa fa-chevron-down\" v-on:click=\"changeOrder('down', question)\" :class=\"{ disabled: question.order === poll.questions.length }\" :disabled=\"question.order === poll.questions.length\"></i>\n                    </div>\n                    <div>\n                        <label>Skip: <input type=\"checkbox\" v-model=\"question.skipped\"></label>\n                    </div>\n                </div>\n            </li>\n        </transition-group>\n\n\n        <ul>\n            <li class=\"more\" v-on:click=\"addQuestion\">\n                <i class=\"fa fa-plus\"></i> Add more radio buttons\n            </li>\n\n            <li class=\"field\">\n                <div class=\"order\">{{ poll.questions.length + 1 }}</div>\n                <div class=\"header\">\n                    <span class=\"title\">Message</span>\n                </div>\n                <div class=\"body\">\n                    <textarea v-model=\"poll.message\" required=\"required\" minlength=\"3\" maxlength=\"255\"></textarea>\n                </div>\n                <div class=\"footer\">\n                    Order: <span class=\"number\">{{ poll.questions.length + 1 }}</span>\n                </div>\n            </li>\n        </ul>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .questions {\n            &>ul {\n                padding: 0;\n                padding-top: 15px;\n\n                li.more {\n                    list-style: none;\n                    padding: 40px 20px;\n                    border: 3px dashed #8c8c8c;\n                    color: #8c8c8c;\n                    position: relative;\n                    margin-bottom: 30px;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    font-size: 20px;\n                    transition: all 0.1s;\n                    cursor: pointer;\n\n                    &:hover {\n                        color: #000;\n                        border-color: #000;\n                    }\n\n                    i {\n                        margin-right: 10px;\n                    }\n                }\n\n                li.field {\n                    list-style: none;\n                    background: #efefef;\n                    padding: 20px;\n                    border: 1px solid #9b9b9b;\n                    position: relative;\n                    margin-bottom: 30px;\n\n                    &.skipped {\n                        opacity: 0.6;\n                    }\n\n                    .order {\n                        position: absolute;\n                        top: -17px;\n                        left: -17px;\n                        background: #4d4d4d;\n                        color: #fff;\n                        border-radius: 50%;\n                        width: 34px;\n                        height: 34px;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center\n                    }\n\n                    .header {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n\n                        .title {\n                            font-size: 20px;\n                        }\n                    }\n\n                    .body {\n                        margin: 15px 0;\n\n                        input, textarea {\n                            padding: 10px 15px;\n                            width: 100%;\n                            box-sizing: border-box;\n                        }\n\n                        textarea {\n                            min-height: 150px;\n                            max-width: 100%;\n                            min-width: 100%;\n                            width: 100%;\n                        }\n\n                        .question {\n                            margin: 0;\n                        }\n\n                    ul {\n                        li.answer {\n                            padding: 10px 0;\n                            position: relative;\n                            list-style: none;\n                            display: flex;\n                            align-items: center;\n\n                            &:before, &:after {\n                                content: '';\n                                display: block;\n                                position: absolute;\n                            }\n\n                            &:before {\n                                height: 60px;\n                                width: 15px;\n                                border-left: 2px dashed #000;\n                                top: 0;\n                                left: -20px;\n                            }\n\n                            &:after {\n                                height: 1px;\n                                width: 15px;\n                                border-top: 2px dashed #000;\n                                top: 28px;\n                                left: -20px;\n                            }\n\n                            span {\n                                margin-right: 10px;\n                            }\n\n                            i {\n                                margin-left: 10px;\n                            }\n                        }\n\n                        &.end li.answer:before {\n                            height: 30px;\n                        }\n                    }\n                }\n\n                .footer {\n                    display: flex;\n                    justify-content: flex-start;\n                    align-items: center;\n\n                    &>div {\n                        margin-right: 15px;\n                    }\n\n                    .number {\n                        font-size: 20px;\n                    }\n\n                    i {\n                        cursor: pointer;\n                    }\n\n                    i.disabled {\n                        opacity: 0.3;\n                        cursor: not-allowed;\n                    }\n                }\n            }\n        }\n        .questions-move, .answers-move {\n            transition: 1s;\n        }\n\n        .questions-enter-active, .questions-leave-active, .answers-enter-active, .answers-leave-active {\n            transition: all 0.5s;\n        }\n\n        .questions-enter, .questions-leave, .answers-enter, .answers-leave {\n            opacity: 0;\n        }\n\n        .questions-enter, .questions-leave {\n            max-height: 0;\n            overflow: hidden;\n            margin: 0;\n        }\n    }\n\n</style>\n\n<script>\n    import uuidv4 from 'uuid/v4';\n\n    export default {\n        props: [ 'poll' ],\n        name: 'questions',\n        methods: {\n            changeOrder(direction, question) {\n                let order = question.order;\n\n                if(direction == 'up' && order !== 1) {\n\n                    this.poll.questions.find(el => {\n                        return el.order === order - 1;\n                    }).order = order;\n\n                    question.order -= 1;\n\n                } else if (direction === 'down' && order !== this.poll.questions.length) { \n                    this.poll.questions.find(el => {\n                        return el.order === order + 1;\n                    }).order = order;\n\n                    question.order += 1;\n                }\n            },\n\n            rearrangeOrder(questionId) {\n                let questionIndex = this.poll.questions.findIndex(el => {\n                    return el.id === questionId\n                })\n\n                for(let i = questionIndex + 1; i < this.poll.questions.length; i++) {\n                    this.poll.questions[i].order--;\n                }\n            },\n\n\n            addAnswer(questionId) {\n                let answer = {\n                    type: 'answer',\n                    isAdded: true,\n                    id: uuidv4(),\n\n                    question_uuid: questionId,\n                    answer: '',\n                    result: 0,\n                }\n\n                this.poll.questions.find((el) => {\n                    return el.id === questionId\n                }).answers.push(answer);\n            },\n            deleteAnswer(questionId, answerId) {\n                let questionIndex = this.poll.questions.findIndex(el => {\n                    return el.id === questionId\n                });\n\n                let question = this.poll.questions[questionIndex];\n\n                let answerIndex = question.answers.findIndex(el => {\n                    return el.id === answerId\n                });\n\n                this.$delete(question.answers, answerIndex);\n            },\n\n\n            addQuestion() {\n                let question = {\n                    type: 'question',\n                    isAdded: true,\n                    id: uuidv4(),\n\n                    poll_uuid: this.poll.id,\n                    order: this.poll.questions.length + 1,\n                    answers: []\n                }\n\n                this.poll.questions.push(question);\n\n                this.addAnswer(question.id);\n                this.addAnswer(question.id);\n            },\n            deleteQuestion(questionId) {\n                let questionIndex = this.poll.questions.findIndex(el => {\n                    return el.id === questionId\n                });\n\n                let question = this.poll.questions[questionIndex];\n\n                let answers = [...question.answers];\n\n                answers.forEach(el => {\n                    this.deleteAnswer(questionId, el.id);\n                })\n\n                this.rearrangeOrder(questionId);\n\n                this.$delete(this.poll.questions, questionIndex);\n            }\n        }\n    };\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Questions.vue?vue&type=template&id=6270bbc7&\"\nimport script from \"./Questions.vue?vue&type=script&lang=js&\"\nexport * from \"./Questions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Questions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questions.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"poll\"},[_c('div',{staticClass:\"create\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"New poll\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.poll.name),expression:\"poll.name\"}],staticClass:\"name\",attrs:{\"type\":\"text\",\"placeholder\":\"type poll name\",\"required\":\"required\",\"minlength\":\"3\",\"maxlength\":\"255\"},domProps:{\"value\":(_vm.poll.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.poll, \"name\", $event.target.value)}}}),_c('p',{staticClass:\"warning\"},[_vm._v(\" Web widget snippet will appear after you create new poll \")]),_c('Questions',{attrs:{\"poll\":_vm.sortedPoll}}),_c('div',{staticClass:\"buttons\"},[_c('button',{class:{ disabled: _vm.busy },attrs:{\"disabled\":_vm.busy},on:{\"click\":function($event){return _vm.createPoll(_vm.poll)}}},[_vm._v(\"Create poll\")]),_c('router-link',{class:{ disabled: _vm.busy },attrs:{\"to\":\"/\",\"tag\":\"button\",\"disabled\":_vm.busy}},[_vm._v(\"Cancel\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"poll\">\n        <div class=\"create\">\n            <h1 class=\"title\">New poll</h1>\n            <input class=\"name\" type=\"text\" placeholder=\"type poll name\" v-model=\"poll.name\" required=\"required\" minlength=\"3\" maxlength=\"255\">\n\n            <p class=\"warning\">\n                Web widget snippet will appear after you create new poll\n            </p>\n\n            <Questions v-bind:poll=\"sortedPoll\"></Questions>\n\n            <div class=\"buttons\">\n                <button v-on:click=\"createPoll(poll)\" :class=\"{ disabled: busy }\" :disabled=\"busy\">Create poll</button>\n                <router-link to=\"/\" tag=\"button\" :class=\"{ disabled: busy }\" :disabled=\"busy\">Cancel</router-link>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import { mapState, mapGetters } from 'vuex'\n    import uuidv4 from 'uuid/v4'\n    import Questions from '@/components/Questions'\n    \n    let poll_uuid = uuidv4();\n    let question_uuid = uuidv4();\n\n    export default {\n        components: {\n            Questions\n        },\n\n        data() {\n            return {\n                poll: {\n                    name: null,\n                    message: null,\n                    created_at: new Date(),\n                    id: poll_uuid,\n                    questions: [\n                        {\n                            id: question_uuid,\n                            question: null,\n                            order: 1,\n                            poll_uuid: poll_uuid,\n                            skip: false,\n                            answers: [\n                                {\n                                    id: uuidv4(),\n                                    question_uuid: question_uuid,\n                                    answer: null,\n                                    result: 0\n                                },\n                                {\n                                    id: uuidv4(),\n                                    question_uuid: question_uuid,\n                                    answer: null,\n                                    result: 0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            }\n        },\n\n        computed: {\n            ...mapState([\n                'busy'\n            ]),\n\n            ...mapGetters({\n                validatePoll: 'poll/validatePoll'\n            }),\n\n            sortedPoll() {\n                let poll = this.poll;\n\n                poll.questions.sort((a, b) => {\n                    return a.order - b.order;\n                });\n\n                poll.questions.forEach(question => {\n                    question.answers.sort((a, b) => {\n                        return new Date(a.created_at) - new Date(b.created_at)\n                    })\n                })\n\n                return poll;\n            },\n        },\n\n        methods: {\n            createPoll(poll) {\n                if(this.validatePoll({ poll: poll })) {\n                    \n                    this.$store.commit('setBusy', true)\n\n                    this.$store.dispatch('poll/createPoll', { poll: this.poll })\n\n                    .then(response => {\n\n                        this.$router.push({ name: 'update', params: { id: response.id }})\n                        this.$notify({\n                            group: 'msg',\n                            type: 'success',\n                            title: 'Poll is created'\n                        })\n                    })\n\n                    .catch(() => {\n                        this.$notify({\n                            group: 'msg',\n                            type: 'error',\n                            title: 'Error occured'\n                        })\n                    })\n\n                    .finally(() => {\n                        this.$store.commit('setBusy', false, { root: true })\n                    })\n                }\n            }\n        },\n    };\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=78f65f1f&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n"],"sourceRoot":""}